import{_ as f,u as g,q as k,b as y,d as I,A as s,s as u,P as n,x as V,l as i,c,a,t as _,y as x,f as m,F as w,r as b,k as K,v as S,o as r,g as B,w as C,p as N,i as P,h as R}from"./index.bd18c2be.js";const A={setup(){const o=g(),p=k();async function v(){try{const t=o.params.vaultId;await K.getKeepsInVault(t)}catch(t){i.error(t),n.error(t)}}async function e(){try{const t=o.params.vaultId;await S.getVaultById(t)}catch(t){p.push({name:"Home"}),i.error(t),n.error("Back to the home page you go nerd!")}}return y(()=>{v(),e()}),I(()=>{s.keeps=null,s.vaults=null}),{keeps:u(()=>s.keeps),vault:u(()=>s.activeVault),account:u(()=>s.account),async deleteVaultKeep(t){try{await n.confirm("keep from the vault?")&&await V.deleteVaultKeep(t)}catch(l){i.error(l),n.error(l)}}}}},F=o=>(N("data-v-757efc7d"),o=o(),P(),o),M={key:0,class:"container"},j={class:"row"},q={class:"col-8 m-auto my-4 d-flex flex-column top-row align-items-center"},D=["src"],E={class:"m-auto name text-light shadow mb-3"},H={class:"m-auto name2 text-light shadow mb-2"},L={class:"col-8 m-auto d-flex justify-content-center"},T={key:0,class:"fs-3"},U=F(()=>a("i",{class:"mdi mdi-alpha-k-box-outline"},null,-1)),z={class:"row"},G={class:"bricks"},J=["title","onClick"];function O(o,p,v,e,t,l){const h=R("KeepsCard");return e.vault?(r(),c("div",M,[a("div",j,[a("div",q,[a("img",{class:"img-fluid cover-img",src:e.vault.img,alt:""},null,8,D),a("h2",E,_(e.vault.name),1),a("h4",H,"Made By "+_(e.vault.creator.name),1)]),a("div",L,[e.keeps?(r(),c("p",T,[U,x(" "+_(e.keeps.length),1)])):m("",!0)])]),a("div",z,[a("section",G,[(r(!0),c(w,null,b(e.keeps,d=>(r(),c("div",null,[B(h,{keep:d},{default:C(()=>[e.account.id==e.vault.creatorId?(r(),c("button",{key:0,title:`Remove ${d.name} from ${e.vault.name}`,onClick:Q=>e.deleteVaultKeep(d.vaultKeepId),class:"delete-button btn btn-danger m-0 p-1"},"remove from vault",8,J)):m("",!0)]),_:2},1032,["keep"])]))),256))])])])):m("",!0)}const X=f(A,[["render",O],["__scopeId","data-v-757efc7d"]]);export{X as default};
